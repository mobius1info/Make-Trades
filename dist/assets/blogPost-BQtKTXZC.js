import{c as T}from"./index-D488pGsG.js";import{l as _}from"./content-loader-xGbleNpc.js";const M="https://gknfzfxjaeuvrncgljyi.supabase.co",$="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdrbmZ6ZnhqYWV1dnJuY2dsanlpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA1NzMwNjEsImV4cCI6MjA4NjE0OTA2MX0.rZoKwEl9nbE4KLh3J5MZM5FfbdtCxOJGXTSTCe9VEds",h=T(M,$),L=new URLSearchParams(window.location.search);let u=L.get("lang")||"ru",v={};function i(e,a){return v[e]||a}function w(){return{ru:"ru-RU",en:"en-US",de:"de-DE",uk:"uk-UA",zh:"zh-CN"}[u]||"en-US"}function k(){return L.get("slug")}function q(){const e=(n,o,t)=>{const s=document.getElementById(n);s&&(s.textContent=i(o,t))};e("loadingText","blog_post.loading","Loading article..."),e("errorTitle","blog_post.not_found_title","Article not found"),e("errorDesc","blog_post.not_found_desc","Unfortunately, the requested article was not found."),e("errorBackBtn","blog_post.back_to_blog","Back to blog"),e("backBlogBtn","button.blog","Blog"),e("authorRole","blog_post.author_role","MakeTrades Expert"),e("postCtaTitle","blog_post.cta_title","Ready to launch your brokerage platform?"),e("postCtaDesc","blog_post.cta_desc","MakeTrades provides all the tools you need for a successful start"),e("postCtaBtn","blog_post.cta_button","Request demo"),e("relatedTitle","blog_post.related","Related articles"),e("postCopyright","footer.copyright","Â© 2026 MakeTrades. All rights reserved.");const a=document.getElementById("backBlogBtn");a&&(a.href=`/blog.html?lang=${u}`);const r=document.getElementById("errorBackBtn");r&&(r.href=`/blog.html?lang=${u}`)}async function A(e){var o;const a=u;u=e,document.documentElement.lang=e,document.querySelectorAll(".lang-btn").forEach(t=>t.classList.remove("active")),(o=document.querySelector(`[data-lang="${e}"]`))==null||o.classList.add("active");const r=new URL(window.location.href);r.searchParams.set("lang",e);let n=k();if(n){const t=n.replace(new RegExp(`-${a}$`),`-${e}`);r.searchParams.set("slug",t),n=t}window.history.replaceState({},"",r.toString()),v=await _(e),q(),C(),n&&S(n)}function D(e){document.title=e.meta_title||`${e.title} | MakeTrades`;const a=document.getElementById("page-description");a&&(a.content=e.meta_description||e.excerpt);const r=document.getElementById("page-keywords");r&&e.tags&&(r.content=e.tags.join(", "));const n=document.getElementById("page-canonical");n&&(n.href=`https://maketrades.info/blog-post.html?slug=${e.slug}`);const o=document.getElementById("og-title");o&&(o.content=e.title);const t=document.getElementById("og-description");t&&(t.content=e.excerpt);const s=document.getElementById("og-image");s&&(s.content=e.image_url||"https://maketrades.info/og-image.jpg");const c=document.getElementById("og-url");c&&(c.content=`https://maketrades.info/blog-post.html?slug=${e.slug}`);const d=document.getElementById("twitter-title");d&&(d.content=e.title);const m=document.getElementById("twitter-description");m&&(m.content=e.excerpt);const g=document.getElementById("twitter-image");g&&(g.content=e.image_url||"https://maketrades.info/twitter-image.jpg");const l={"@context":"https://schema.org","@type":"BlogPosting",headline:e.title,description:e.excerpt,image:e.image_url,author:{"@type":"Person",name:e.author},publisher:{"@type":"Organization",name:"MakeTrades",logo:{"@type":"ImageObject",url:"https://maketrades.info/logo.svg"}},datePublished:e.created_at,dateModified:e.updated_at,mainEntityOfPage:{"@type":"WebPage","@id":`https://maketrades.info/blog-post.html?slug=${e.slug}`}},f=document.getElementById("structured-data");f&&(f.textContent=JSON.stringify(l));const y={"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"MakeTrades",item:"https://maketrades.info"},{"@type":"ListItem",position:2,name:"Blog",item:"https://maketrades.info/blog.html"},{"@type":"ListItem",position:3,name:e.title}]},p=document.getElementById("breadcrumb-data");p&&(p.textContent=JSON.stringify(y))}async function P(e){try{await h.rpc("increment_post_views",{post_id:e})}catch(a){console.error("Error incrementing views:",a)}}async function S(e){const a=document.getElementById("loading"),r=document.getElementById("error"),n=document.getElementById("post-content");a&&(a.style.display="block"),r&&(r.style.display="none"),n&&(n.style.display="none");try{const{data:o,error:t}=await h.from("blog_posts").select("*").eq("slug",e).eq("language",u).eq("published",!0).maybeSingle();if(t)throw t;if(!o){a&&(a.style.display="none"),r&&(r.style.display="block");return}D(o),P(o.id);const s=document.getElementById("post-title");s&&(s.textContent=o.title);const c=document.getElementById("post-excerpt");c&&(c.textContent=o.excerpt);const d=document.getElementById("post-category");d&&(d.textContent=o.category||"");const m=document.getElementById("post-date");m&&(m.textContent=new Date(o.created_at).toLocaleDateString(w(),{year:"numeric",month:"long",day:"numeric"}),m.setAttribute("datetime",o.created_at));const g=document.getElementById("post-reading-time");g&&(g.textContent=`${o.reading_time||5} ${i("blog_post.min_read","min read")}`);const l=document.getElementById("post-author");l&&(l.textContent=o.author);const f=document.getElementById("post-image");f&&(f.src=o.image_url||"https://images.pexels.com/photos/6801648/pexels-photo-6801648.jpeg?auto=compress&cs=tinysrgb&w=800",f.alt=o.title);const y=document.getElementById("post-text");y&&(y.innerHTML=o.content);const p=document.getElementById("post-tags");p&&o.tags&&o.tags.length>0&&(p.innerHTML=`<strong>${i("blog_post.tags","Tags:")}</strong> `+o.tags.map(x=>`<span class="tag">${x}</span>`).join("")),j(o.category,o.id),a&&(a.style.display="none"),n&&(n.style.display="block")}catch(o){console.error("Error loading blog post:",o),a&&(a.style.display="none"),r&&(r.style.display="block")}}async function j(e,a){const r=document.getElementById("related-posts-grid");if(r)try{const{data:n,error:o}=await h.from("blog_posts").select("*").eq("language",u).eq("published",!0).eq("hidden_from_users",!1).eq("category",e).neq("id",a).order("created_at",{ascending:!1}).limit(3);if(o)throw o;if(!n||n.length===0){const t=document.querySelector(".related-posts");t&&(t.style.display="none");return}r.innerHTML=n.map(t=>`
      <a href="/blog-post.html?slug=${t.slug}&lang=${u}" class="blog-card fade-in">
        <img src="${t.image_url||"https://images.pexels.com/photos/6801648/pexels-photo-6801648.jpeg?auto=compress&cs=tinysrgb&w=400"}"
             alt="${t.title}"
             class="blog-card-image"
             loading="lazy">
        <div class="blog-card-content">
          <h3>${t.title}</h3>
          <p>${t.excerpt}</p>
          <div class="blog-card-meta">
            <span>${t.author}</span>
            <span>&bull;</span>
            <time datetime="${t.created_at}">
              ${new Date(t.created_at).toLocaleDateString(w())}
            </time>
          </div>
        </div>
      </a>
    `).join("")}catch(n){console.error("Error loading related posts:",n)}}function R(e){e.classList.add("active"),e.setAttribute("aria-hidden","false")}function E(e){e.classList.remove("active"),e.setAttribute("aria-hidden","true")}function b(e,a){const r=e.closest(".form-field");if(!r)return;e.classList.add("input-error");const n=document.createElement("div");n.className="field-error",n.textContent=a,r.appendChild(n),requestAnimationFrame(()=>n.classList.add("visible"))}function J(e){var r;const a=e.closest(".form-field");a&&(e.classList.remove("input-error"),(r=a.querySelector(".field-error"))==null||r.remove())}function I(e,a,r){e.querySelectorAll(".form-message").forEach(t=>t.remove());const n=document.createElement("div");n.className=`form-message form-message--${r}`;const o=r==="success"?'<svg width="20" height="20" viewBox="0 0 20 20" fill="none"><circle cx="10" cy="10" r="10" fill="currentColor" opacity="0.15"/><path d="M6 10.5l2.5 2.5 5.5-5.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>':'<svg width="20" height="20" viewBox="0 0 20 20" fill="none"><circle cx="10" cy="10" r="10" fill="currentColor" opacity="0.15"/><path d="M10 6v5M10 13.5v.5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>';n.innerHTML=`${o}<span>${a}</span>`,e.appendChild(n),requestAnimationFrame(()=>n.classList.add("visible")),r==="success"?setTimeout(()=>{n.classList.remove("visible"),setTimeout(()=>{var t;n.remove(),(t=e.closest(".modal"))==null||t.classList.remove("active")},300)},3e3):setTimeout(()=>{n.classList.remove("visible"),setTimeout(()=>n.remove(),300)},5e3)}function N(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}async function O(e){var g;e.preventDefault();const a=e.target;a.querySelectorAll(".field-error").forEach(l=>l.remove()),a.querySelectorAll(".input-error").forEach(l=>l.classList.remove("input-error"));const r=a.querySelector('input[name="name"]'),n=a.querySelector('input[name="email"]'),o=a.querySelector('input[name="not_robot"]'),t=o==null?void 0:o.closest(".checkbox-field"),s=(g=t==null?void 0:t.parentElement)==null?void 0:g.querySelector(".checkbox-error");let c=!1;if(r.value.trim()||(b(r,i("error.name_required","Please enter your name")),c=!0),n.value.trim()?N(n.value.trim())||(b(n,i("error.email_invalid","Please enter a valid email address")),c=!0):(b(n,i("error.email_required","Please enter your email")),c=!0),o&&!o.checked){if(!s){const l=document.createElement("div");l.className="checkbox-error",l.textContent=i("error.robot_check","Please confirm you are not a robot"),t==null||t.after(l),requestAnimationFrame(()=>l.classList.add("visible"))}t==null||t.classList.add("has-error"),c=!0}else s&&s.remove(),t==null||t.classList.remove("has-error");if(c)return;s&&s.remove(),t==null||t.classList.remove("has-error");const d=new FormData(a),m={name:d.get("name"),email:d.get("email"),telegram:d.get("telegram")||null};try{const{error:l}=await h.from("demo_requests").insert([m]);if(l)throw l;I(a,i("success.demo_submitted","Thank you! We will contact you shortly."),"success"),a.reset()}catch(l){console.error("Error submitting demo request:",l),I(a,i("error.submit_failed","An error occurred. Please try again later."),"error")}}function U(){const e=document.getElementById("demoModal"),a=document.getElementById("postCtaBtn");a==null||a.addEventListener("click",()=>{e&&R(e)}),document.querySelectorAll(".modal-close").forEach(o=>{o.addEventListener("click",()=>{const t=o.closest(".modal");t&&E(t)})}),document.querySelectorAll(".modal").forEach(o=>{o.addEventListener("click",t=>{t.target===o&&E(o)})}),document.addEventListener("keydown",o=>{o.key==="Escape"&&document.querySelectorAll(".modal.active").forEach(t=>{E(t)})});const r=document.getElementById("demoForm");r==null||r.addEventListener("submit",O),r==null||r.querySelectorAll("input").forEach(o=>{o.addEventListener("input",()=>J(o))});const n=r==null?void 0:r.querySelector('input[name="not_robot"]');n==null||n.addEventListener("change",()=>{var s;const o=n.closest(".checkbox-field"),t=(s=o==null?void 0:o.parentElement)==null?void 0:s.querySelector(".checkbox-error");n.checked&&(t==null||t.classList.remove("visible"),setTimeout(()=>t==null?void 0:t.remove(),200),o==null||o.classList.remove("has-error"))})}function C(){const e=document.getElementById("demoForm");if(!e)return;((s,c,d)=>{const m=document.getElementById(s);m&&(m.textContent=i(c,d))})("demoModalTitle","modal.demo_title","Request Demo Account");const r=e.querySelector('input[name="name"]'),n=e.querySelector('input[name="email"]'),o=e.querySelector('input[name="telegram"]');r&&(r.placeholder=i("form.name","Your name")),n&&(n.placeholder=i("form.email","Email")),o&&(o.placeholder=i("form.telegram","Telegram (optional)")),e.querySelectorAll('[data-translate="form.not_robot"]').forEach(s=>{s.textContent=i("form.not_robot","I am not a robot")});const t=e.querySelector('button[type="submit"]');t&&(t.textContent=i("form.request","Request"))}async function B(){var a;document.documentElement.lang=u,document.querySelectorAll(".lang-btn").forEach(r=>{r.classList.remove("active"),r.addEventListener("click",()=>{const n=r.getAttribute("data-lang");n&&A(n)})}),(a=document.querySelector(`[data-lang="${u}"]`))==null||a.classList.add("active"),v=await _(u),q(),C(),U();const e=k();if(e)S(e);else{const r=document.getElementById("error"),n=document.getElementById("loading");r&&(r.style.display="block"),n&&(n.style.display="none")}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",B):B();
