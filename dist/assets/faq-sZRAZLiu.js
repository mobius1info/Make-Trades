import{c as d}from"./index-Cfu0LHQK.js";const u="https://vhahxcmzpaxosthlorfm.supabase.co",m="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZoYWh4Y216cGF4b3N0aGxvcmZtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk2NjQwMDMsImV4cCI6MjA4NTI0MDAwM30.N7xuauIevwt0lI2jbeyQdby9vTPa20IsaqnQg2xRUWo",p=d(u,m);let l="ru",i="all";function g(t){var e;l=t,document.querySelectorAll(".lang-btn").forEach(a=>{a.classList.remove("active")}),(e=document.querySelector(`[data-lang="${t}"]`))==null||e.classList.add("active"),o()}function y(t){var e;i=t,document.querySelectorAll(".category-btn").forEach(a=>{a.classList.remove("active")}),(e=document.querySelector(`[data-category="${t}"]`))==null||e.classList.add("active"),o()}async function o(){const t=document.getElementById("allFAQItems");if(t){t.innerHTML='<p style="text-align: center;">Загрузка вопросов...</p>';try{let e=p.from("faq_items").select("*").eq("language",l).order("order",{ascending:!0});i!=="all"&&(e=e.eq("category",i));const{data:a,error:r}=await e;if(r)throw r;if(!a||a.length===0){t.innerHTML='<p style="text-align: center; color: var(--neutral-500);">Вопросы скоро появятся</p>',c([]);return}t.innerHTML=a.map(n=>`
      <div class="faq-item fade-in" data-faq-id="${n.id}" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
        <div class="faq-question" itemprop="name">
          <span>${n.question}</span>
          <span>+</span>
        </div>
        <div class="faq-answer" itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
          <div itemprop="text">${n.answer}</div>
        </div>
      </div>
    `).join(""),document.querySelectorAll(".faq-item").forEach(n=>{n.addEventListener("click",()=>{n.classList.toggle("active")})}),c(a)}catch(e){console.error("Error loading FAQ items:",e),t.innerHTML='<p style="text-align: center; color: var(--error-500);">Ошибка загрузки FAQ</p>',c([])}}}function c(t){const e=document.getElementById("faqSchema");if(!e)return;const a={"@context":"https://schema.org","@type":"FAQPage",mainEntity:t.map(r=>({"@type":"Question",name:r.question,acceptedAnswer:{"@type":"Answer",text:r.answer}}))};e.textContent=JSON.stringify(a,null,2)}function f(){document.querySelectorAll(".lang-btn").forEach(t=>{t.addEventListener("click",()=>{const e=t.getAttribute("data-lang");e&&g(e)})})}function h(){document.querySelectorAll(".category-btn").forEach(t=>{t.addEventListener("click",()=>{const e=t.getAttribute("data-category");e&&y(e)})})}function s(){f(),h(),o()}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",s):s();
